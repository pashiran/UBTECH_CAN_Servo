# UBTECH Serial 서보 테스트 계획서

## 📋 테스트 개요

**테스트 대상**: UBTECH Serial 프로토콜 서보 (FA AF / FC CF)  
**통신 방식**: UART Serial (115200 bps)  
**테스트 목적**: 프로토콜 검증, 통신 안정성 확인, 명령어 동작 검증  
**작성일**: 2025-11-05

---

## 🔌 1단계: 하드웨어 구성

### 1.1 필요 부품 목록

| 항목 | 사양 | 수량 | 비고 |
|------|------|------|------|
| UBTECH Serial 서보 | A/B/C Type | 1~3개 | 데이지 체인 테스트용 |
| Arduino Mega 2560 | - | 1개 | Serial3 사용 |
| 전원 공급장치 | 5V 3A 이상 | 1개 | 서보 구동용 |
| USB to TTL 모듈 | CH340/FT232 | 1개 | 대안 테스트용 |
| 점퍼 케이블 | - | 10개 | 연결용 |
| 브레드보드 | 830 point | 1개 | 회로 구성용 |
| 멀티미터 | - | 1개 | 전압 확인용 |

### 1.2 회로 구성도

![Serial-2_to_1 회로 구성도](pics/Serial-2_to_1.png)

### 1.3 배선 가이드

1. **전원 연결**
   - 서보 V → 5V 전원 (공통)
   - 서보 G → GND (공통)
   - ⚠️ Arduino 5V 핀은 사용하지 말고 외부 전원 사용

2. **신호 연결 (단일 서보)**
   - Arduino TX3 → Servo RX
   - Arduino RX3 → Servo TX

3. **신호 연결 (데이지 체인)**
   - Arduino TX3 → Servo1 RX
   - Arduino RX3 → Servo1 TX
   - Servo1 TX → Servo2 RX
   - Servo2 TX → (체인 계속 또는 종단)

### 1.4 회로 검증 체크리스트

- [ ] 전원 전압 측정 (5V ±0.2V)
- [ ] 극성 확인 (V+, GND)
- [ ] TX/RX 크로스 연결 확인
- [ ] 단락 여부 확인
- [ ] 서보 LED 점등 확인 (전원 인가 시)

---

## 🧪 2단계: 통신 기본 테스트

### 2.1 테스트 목표
- Serial 통신 정상 동작 확인
- 보드레이트 검증 (115200 bps)
- 서보 응답 확인
- 프레임 무결성 검증

### 2.2 테스트 시나리오

#### TEST-S-001: 통신 초기화
- **목적**: Serial 포트 정상 오픈 확인
- **예상 결과**: 115200 bps로 통신 시작
- **실패 조건**: 포트 열기 실패

#### TEST-S-002: Echo 테스트
- **목적**: 서보 응답 확인
- **방법**: 간단한 명령 전송 → 응답 대기
- **예상 결과**: 서보로부터 응답 수신
- **실패 조건**: 타임아웃 (1초 이상 무응답)

#### TEST-S-003: 체크섬 검증
- **목적**: 프레임 무결성 확인
- **방법**: 수신 데이터 체크섬 계산 및 비교
- **예상 결과**: 체크섬 일치
- **실패 조건**: 체크섬 불일치

### 2.3 테스트 코드 구조

```cpp
/*
 * Serial_Basic_Communication_Test.ino
 * 
 * 단계 1: 통신 기본 테스트
 * - Serial 초기화
 * - 서보 응답 확인
 * - 체크섬 검증
 */

// ============================================
// 1. 전역 변수 및 설정
// ============================================
// TODO: Serial 포트 설정 (Serial3 사용)
// TODO: 보드레이트 115200 설정
// TODO: 타임아웃 설정 (1000ms)
// TODO: 버퍼 크기 정의 (256 bytes)

// ============================================
// 2. 프레임 구조 정의
// ============================================
// TODO: FA AF 헤더 정의
// TODO: 길이, ID, 명령, 파라미터 구조체 정의
// TODO: 체크섬 계산 함수 프로토타입

// ============================================
// 3. Setup - 초기화
// ============================================
void setup() {
  // TODO: Serial 모니터 초기화 (디버깅용)
  // TODO: Serial3 초기화 (서보 통신용)
  // TODO: 핀 모드 설정 (필요시)
  // TODO: 초기 지연 (서보 부팅 대기)
  
  // TEST-S-001: 통신 초기화 테스트
  // TODO: Serial3.begin(115200) 실행
  // TODO: 초기화 성공 메시지 출력
}

// ============================================
// 4. Loop - 순차 테스트 실행
// ============================================
void loop() {
  // TODO: 메뉴 출력 (사용자 입력 대기)
  // TODO: 테스트 선택 (1: Echo, 2: Checksum, 3: 전체)
  
  // TEST-S-002: Echo 테스트
  // TODO: test_echo() 함수 호출
  
  // TEST-S-003: 체크섬 검증
  // TODO: test_checksum() 함수 호출
  
  // TODO: 테스트 결과 출력
  // TODO: 다음 테스트 대기
}

// ============================================
// 5. 유틸리티 함수
// ============================================

// 체크섬 계산 함수
byte calculateChecksum(byte* data, int length) {
  // TODO: XOR 체크섬 계산 로직
  // TODO: 길이부터 파라미터까지 모든 바이트 XOR
  return 0x00; // placeholder
}

// 프레임 전송 함수
void sendFrame(byte id, byte cmd, byte* params, int paramLen) {
  // TODO: 헤더 전송 (FA AF)
  // TODO: 길이 계산 및 전송
  // TODO: ID, 명령 전송
  // TODO: 파라미터 전송
  // TODO: 체크섬 계산 및 전송
  // TODO: Serial3.flush() 호출
}

// 프레임 수신 함수 (타임아웃 포함)
bool receiveFrame(byte* buffer, int* length, int timeout) {
  // TODO: 타임아웃 설정
  // TODO: 헤더 대기 (FA AF)
  // TODO: 길이 수신
  // TODO: 데이터 수신
  // TODO: 체크섬 검증
  // TODO: 수신 성공 여부 반환
  return false; // placeholder
}

// ============================================
// 6. 테스트 함수들
// ============================================

// TEST-S-002: Echo 테스트
void test_echo() {
  // TODO: 테스트 시작 메시지
  // TODO: 간단한 명령 전송 (예: 각도 읽기 0x02)
  // TODO: 응답 대기 (1초 타임아웃)
  // TODO: 응답 수신 확인
  // TODO: 결과 출력 (PASS/FAIL)
}

// TEST-S-003: 체크섬 검증 테스트
void test_checksum() {
  // TODO: 테스트 시작 메시지
  // TODO: 알려진 프레임 전송
  // TODO: 응답 수신
  // TODO: 체크섬 재계산
  // TODO: 수신 체크섬과 비교
  // TODO: 결과 출력 (PASS/FAIL)
}

// ============================================
// 7. 디버깅 헬퍼 함수
// ============================================

// HEX 덤프 출력 함수
void printHex(byte* data, int length) {
  // TODO: 16진수 형식으로 데이터 출력
  // TODO: 가독성을 위해 공백 추가
}

// 테스트 결과 출력 함수
void printTestResult(const char* testName, bool passed) {
  // TODO: 테스트 이름 출력
  // TODO: PASS/FAIL 출력
  // TODO: 통과율 누적
}
```

---

## ⚙️ 3단계: 명령어 기능 테스트

### 3.1 테스트 목표
- 각 명령어의 정상 동작 확인
- 파라미터 범위 검증
- 에러 처리 확인

### 3.2 테스트 시나리오

#### TEST-S-101: 각도 이동 (0x01)
- **명령**: `FA AF 06 01 01 [ANGLE_H] [ANGLE_L] [TIME] [CHECKSUM]`
- **테스트 케이스**:
  1. 0도로 이동
  2. 120도로 이동
  3. 240도로 이동 (최대값)
  4. 241도로 이동 (범위 초과 - 에러 예상)
- **검증**: 서보 실제 움직임 육안 확인

#### TEST-S-102: 각도 읽기 (0x02)
- **명령**: `FA AF 03 01 02 [CHECKSUM]`
- **테스트 케이스**:
  1. 현재 각도 읽기
  2. 여러 번 연속 읽기 (안정성 확인)
- **검증**: 응답 데이터 파싱 및 출력

#### TEST-S-103: ID 수정 (0xCD)
- **명령**: `FA AF 04 [OLD_ID] CD [NEW_ID] [CHECKSUM]`
- **테스트 케이스**:
  1. ID 1 → 2 변경
  2. ID 2 → 1 복구
  3. 변경 후 통신 확인
- **검증**: 새 ID로 통신 성공

#### TEST-S-104: 오프셋 설정 (0xD2)
- **명령**: `FA AF 04 01 D2 [OFFSET] [CHECKSUM]`
- **테스트 케이스**:
  1. +10 오프셋 설정
  2. -10 오프셋 설정
  3. 0 오프셋 (초기화)
- **검증**: 각도 읽기로 오프셋 적용 확인

#### TEST-S-105: 오프셋 읽기 (0xD4)
- **명령**: `FA AF 03 01 D4 [CHECKSUM]`
- **테스트 케이스**:
  1. 현재 오프셋 읽기
- **검증**: 설정한 오프셋과 일치 확인

### 3.3 테스트 코드 구조

```cpp
/*
 * Serial_Command_Test.ino
 * 
 * 단계 2: 명령어 기능 테스트
 * - 각도 제어 (이동/읽기)
 * - ID 변경
 * - 오프셋 설정/읽기
 */

// ============================================
// 1. 명령어 정의
// ============================================
// TODO: 명령어 상수 정의
// #define CMD_MOVE_ANGLE    0x01
// #define CMD_READ_ANGLE    0x02
// #define CMD_CHANGE_ID     0xCD
// #define CMD_SET_OFFSET    0xD2
// #define CMD_READ_OFFSET   0xD4

// ============================================
// 2. 고급 프레임 함수
// ============================================

// 각도 이동 명령 전송
bool moveToAngle(byte servoId, int angle, int moveTime) {
  // TODO: 각도 범위 체크 (0~240)
  // TODO: Big-Endian 변환 (각도 2바이트)
  // TODO: 프레임 생성 및 전송
  // TODO: 응답 대기 및 검증
  return false; // placeholder
}

// 각도 읽기 명령 전송
int readAngle(byte servoId) {
  // TODO: 읽기 명령 전송
  // TODO: 응답 수신
  // TODO: Big-Endian 데이터 파싱
  // TODO: 각도 값 반환 (-1: 실패)
  return -1; // placeholder
}

// ID 변경 명령 전송
bool changeServoId(byte oldId, byte newId) {
  // TODO: ID 범위 체크 (1~253)
  // TODO: 변경 명령 전송
  // TODO: 응답 확인
  // TODO: 새 ID로 통신 테스트
  return false; // placeholder
}

// 오프셋 설정 명령 전송
bool setOffset(byte servoId, int8_t offset) {
  // TODO: 오프셋 범위 체크 (-125~125)
  // TODO: 설정 명령 전송
  // TODO: 응답 확인
  return false; // placeholder
}

// 오프셋 읽기 명령 전송
int8_t readOffset(byte servoId) {
  // TODO: 읽기 명령 전송
  // TODO: 응답 수신
  // TODO: 오프셋 값 반환
  return 0; // placeholder
}

// ============================================
// 3. 테스트 함수들
// ============================================

// TEST-S-101: 각도 이동 테스트
void test_move_angle() {
  // TODO: 테스트 시작 메시지
  
  // 테스트 케이스 1: 0도 이동
  // TODO: moveToAngle(1, 0, 100) 호출
  // TODO: 2초 대기 (움직임 관찰)
  // TODO: readAngle(1) 호출 및 확인
  
  // 테스트 케이스 2: 120도 이동
  // TODO: moveToAngle(1, 120, 100) 호출
  // TODO: 2초 대기
  // TODO: readAngle(1) 호출 및 확인
  
  // 테스트 케이스 3: 240도 이동 (최대)
  // TODO: moveToAngle(1, 240, 100) 호출
  // TODO: 2초 대기
  // TODO: readAngle(1) 호출 및 확인
  
  // 테스트 케이스 4: 241도 이동 (에러)
  // TODO: moveToAngle(1, 241, 100) 호출
  // TODO: 에러 메시지 확인
  
  // TODO: 테스트 결과 집계 및 출력
}

// TEST-S-102: 각도 읽기 테스트
void test_read_angle() {
  // TODO: 테스트 시작 메시지
  
  // 테스트 케이스 1: 단일 읽기
  // TODO: readAngle(1) 호출
  // TODO: 결과 출력
  
  // 테스트 케이스 2: 연속 읽기 (10회)
  // TODO: for 루프로 10회 읽기
  // TODO: 각 결과 출력
  // TODO: 안정성 확인 (값 변동폭)
  
  // TODO: 테스트 결과 출력
}

// TEST-S-103: ID 변경 테스트
void test_change_id() {
  // TODO: 테스트 시작 메시지
  // TODO: 주의 메시지 출력 (ID 변경 신중)
  
  // 테스트 케이스 1: ID 1 → 2
  // TODO: changeServoId(1, 2) 호출
  // TODO: ID 2로 각도 읽기 테스트
  
  // 테스트 케이스 2: ID 2 → 1 (복구)
  // TODO: changeServoId(2, 1) 호출
  // TODO: ID 1로 각도 읽기 테스트
  
  // TODO: 테스트 결과 출력
}

// TEST-S-104: 오프셋 설정 테스트
void test_set_offset() {
  // TODO: 테스트 시작 메시지
  
  // 테스트 케이스 1: +10 오프셋
  // TODO: setOffset(1, 10) 호출
  // TODO: readAngle(1) 호출 (오프셋 적용 확인)
  
  // 테스트 케이스 2: -10 오프셋
  // TODO: setOffset(1, -10) 호출
  // TODO: readAngle(1) 호출
  
  // 테스트 케이스 3: 0 오프셋 (초기화)
  // TODO: setOffset(1, 0) 호출
  // TODO: readAngle(1) 호출
  
  // TODO: 테스트 결과 출력
}

// TEST-S-105: 오프셋 읽기 테스트
void test_read_offset() {
  // TODO: 테스트 시작 메시지
  // TODO: readOffset(1) 호출
  // TODO: 결과 출력
}

// ============================================
// 4. Setup & Loop
// ============================================

void setup() {
  // TODO: Serial 초기화 (기본 테스트 코드 재사용)
  // TODO: 메뉴 출력
}

void loop() {
  // TODO: 사용자 입력 대기
  // TODO: 테스트 선택 및 실행
  //   1: TEST-S-101
  //   2: TEST-S-102
  //   3: TEST-S-103
  //   4: TEST-S-104
  //   5: TEST-S-105
  //   0: 전체 실행
}
```

---

## 🔄 4단계: 고급 기능 테스트

### 4.1 테스트 목표
- 다중 서보 제어 (데이지 체인)
- 브로드캐스트 명령
- 통신 속도 측정
- 동시 제어 성능

### 4.2 테스트 시나리오

#### TEST-S-201: 데이지 체인 통신
- **구성**: 서보 3개 연결 (ID 1, 2, 3)
- **테스트**:
  1. 각 서보 개별 제어
  2. 순차적 각도 읽기
  3. ID 충돌 테스트 (중복 ID 에러 확인)

#### TEST-S-202: 브로드캐스트 명령
- **명령**: ID=0xFE (모든 서보)
- **테스트**:
  1. 모든 서보 동시 90도 이동
  2. 모든 서보 동시 잠금
  3. 응답 처리 (브로드캐스트는 무응답)

#### TEST-S-203: 통신 속도 측정
- **방법**: 1000회 명령 전송 및 응답 시간 측정
- **측정 항목**:
  - 평균 응답 시간
  - 최대/최소 응답 시간
  - 실패율

#### TEST-S-204: 연속 동작 테스트
- **시나리오**: 복잡한 동작 시퀀스
- **예시**:
  1. 서보1: 0→120→240 반복 (10회)
  2. 서보2: 240→120→0 반복 (10회)
  3. 서보3: 120 고정
- **검증**: 명령 누락 없음, 동기화 확인

### 4.3 테스트 코드 구조

```cpp
/*
 * Serial_Advanced_Test.ino
 * 
 * 단계 3: 고급 기능 테스트
 * - 다중 서보 제어
 * - 브로드캐스트
 * - 성능 측정
 * - 연속 동작
 */

// ============================================
// 1. 다중 서보 관리
// ============================================
// TODO: 서보 배열 정의 (최대 10개)
// TODO: 서보 ID 리스트
// TODO: 서보 상태 구조체 (ID, 각도, 온라인 여부)

// ============================================
// 2. 브로드캐스트 함수
// ============================================

// 모든 서보 동시 이동
void broadcastMove(int angle, int moveTime) {
  // TODO: ID=0xFE로 이동 명령 전송
  // TODO: 응답 없음 (브로드캐스트 특성)
  // TODO: 지연 대기 (moveTime 기반)
}

// ============================================
// 3. 성능 측정 함수
// ============================================

// 통신 속도 측정
void measureCommunicationSpeed() {
  // TODO: 1000회 루프 시작
  // TODO: 각 루프마다 명령 전송 및 응답 대기
  // TODO: 시간 측정 (millis() 사용)
  // TODO: 성공/실패 카운트
  // TODO: 평균/최대/최소 계산
  // TODO: 결과 출력
}

// ============================================
// 4. 테스트 함수들
// ============================================

// TEST-S-201: 데이지 체인 테스트
void test_daisy_chain() {
  // TODO: 테스트 시작 메시지
  // TODO: 연결된 서보 스캔 (ID 1~10 순차 확인)
  // TODO: 발견된 서보 리스트 출력
  
  // 개별 제어 테스트
  // TODO: 각 서보를 다른 각도로 이동
  //   Servo 1 → 60도
  //   Servo 2 → 120도
  //   Servo 3 → 180도
  // TODO: 각 서보 각도 읽기 및 확인
  
  // ID 충돌 테스트
  // TODO: 중복 ID 생성 (경고 메시지)
  // TODO: 충돌 상황에서 통신 관찰
  
  // TODO: 테스트 결과 출력
}

// TEST-S-202: 브로드캐스트 테스트
void test_broadcast() {
  // TODO: 테스트 시작 메시지
  
  // 테스트 케이스 1: 동시 이동
  // TODO: broadcastMove(90, 1000) 호출
  // TODO: 모든 서보 90도 이동 확인
  
  // 테스트 케이스 2: 동시 0도
  // TODO: broadcastMove(0, 1000) 호출
  
  // 테스트 케이스 3: 동시 240도
  // TODO: broadcastMove(240, 1000) 호출
  
  // TODO: 테스트 결과 출력
}

// TEST-S-203: 통신 속도 측정
void test_communication_speed() {
  // TODO: 테스트 시작 메시지
  // TODO: measureCommunicationSpeed() 호출
  // TODO: 결과 분석 및 출력
  //   - 초당 명령 처리 개수
  //   - 평균 레이턴시
  //   - 신뢰성 (성공률)
}

// TEST-S-204: 연속 동작 테스트
void test_continuous_motion() {
  // TODO: 테스트 시작 메시지
  // TODO: 10회 반복 루프
  
  // 각 루프에서:
  // TODO: Servo 1: 0 → 120 → 240
  // TODO: Servo 2: 240 → 120 → 0
  // TODO: Servo 3: 120 고정
  // TODO: 각 동작 후 500ms 대기
  // TODO: 중간 각도 확인 (샘플링)
  
  // TODO: 명령 누락 확인
  // TODO: 최종 위치 확인
  // TODO: 테스트 결과 출력
}

// ============================================
// 5. 서보 스캔 함수
// ============================================

// 연결된 모든 서보 찾기
int scanServos(byte* foundIds, int maxServos) {
  // TODO: ID 1~253 순차 스캔
  // TODO: 각 ID에 각도 읽기 명령 전송
  // TODO: 응답 있는 ID 저장
  // TODO: 발견된 서보 개수 반환
  return 0; // placeholder
}

// ============================================
// 6. Setup & Loop
// ============================================

void setup() {
  // TODO: Serial 초기화
  // TODO: 서보 스캔 실행
  // TODO: 메뉴 출력
}

void loop() {
  // TODO: 테스트 선택
  //   1: TEST-S-201 (데이지 체인)
  //   2: TEST-S-202 (브로드캐스트)
  //   3: TEST-S-203 (통신 속도)
  //   4: TEST-S-204 (연속 동작)
  //   0: 전체 실행
}
```

---

## 📊 5단계: 통합 테스트 및 리포트

### 5.1 테스트 매트릭스

| 테스트 ID | 테스트 항목 | 우선순위 | 예상 시간 | 상태 |
|-----------|------------|---------|----------|------|
| TEST-S-001 | 통신 초기화 | 높음 | 5분 | ⬜ |
| TEST-S-002 | Echo 테스트 | 높음 | 5분 | ⬜ |
| TEST-S-003 | 체크섬 검증 | 높음 | 10분 | ⬜ |
| TEST-S-101 | 각도 이동 | 높음 | 15분 | ⬜ |
| TEST-S-102 | 각도 읽기 | 높음 | 10분 | ⬜ |
| TEST-S-103 | ID 변경 | 중간 | 15분 | ⬜ |
| TEST-S-104 | 오프셋 설정 | 중간 | 10분 | ⬜ |
| TEST-S-105 | 오프셋 읽기 | 중간 | 5분 | ⬜ |
| TEST-S-201 | 데이지 체인 | 높음 | 20분 | ⬜ |
| TEST-S-202 | 브로드캐스트 | 중간 | 15분 | ⬜ |
| TEST-S-203 | 통신 속도 | 낮음 | 30분 | ⬜ |
| TEST-S-204 | 연속 동작 | 중간 | 20분 | ⬜ |

**총 예상 시간**: 약 2.5시간

### 5.2 자동화 테스트 스크립트

```cpp
/*
 * Serial_Full_Test_Suite.ino
 * 
 * 통합 테스트 스위트
 * - 모든 테스트 자동 실행
 * - 리포트 생성
 */

// ============================================
// 테스트 결과 구조체
// ============================================
// TODO: 구조체 정의
//   - 테스트 ID
//   - 테스트 이름
//   - 통과 여부
//   - 실행 시간
//   - 에러 메시지

// ============================================
// 전체 테스트 실행
// ============================================
void runAllTests() {
  // TODO: 테스트 시작 메시지
  // TODO: 시작 시간 기록
  
  // 단계 1: 기본 통신
  // TODO: test_echo()
  // TODO: test_checksum()
  
  // 단계 2: 명령어 기능
  // TODO: test_move_angle()
  // TODO: test_read_angle()
  // TODO: test_change_id()
  // TODO: test_set_offset()
  // TODO: test_read_offset()
  
  // 단계 3: 고급 기능
  // TODO: test_daisy_chain()
  // TODO: test_broadcast()
  // TODO: test_communication_speed()
  // TODO: test_continuous_motion()
  
  // TODO: 종료 시간 기록
  // TODO: 리포트 생성
}

// ============================================
// 리포트 생성
// ============================================
void generateReport() {
  // TODO: 헤더 출력
  // TODO: 각 테스트 결과 출력
  // TODO: 통과율 계산
  // TODO: 실패한 테스트 상세 정보
  // TODO: 권장사항 출력
}
```

### 5.3 테스트 리포트 템플릿

```
=====================================
UBTECH Serial 서보 테스트 리포트
=====================================
테스트 일시: 2025-11-05 14:30:00
테스트 환경:
  - Arduino: Mega 2560
  - 서보 모델: UBTECH Type-A
  - 서보 개수: 3개
  - 펌웨어 버전: v2.1

-------------------------------------
테스트 결과 요약
-------------------------------------
총 테스트: 12개
통과: 11개
실패: 1개
통과율: 91.67%

-------------------------------------
상세 결과
-------------------------------------
[PASS] TEST-S-001: 통신 초기화 (5ms)
[PASS] TEST-S-002: Echo 테스트 (120ms)
[PASS] TEST-S-003: 체크섬 검증 (80ms)
[PASS] TEST-S-101: 각도 이동 (2500ms)
[PASS] TEST-S-102: 각도 읽기 (300ms)
[FAIL] TEST-S-103: ID 변경 (타임아웃)
  → 원인: ID 변경 후 응답 없음
  → 조치: 서보 재부팅 후 재시도 필요
[PASS] TEST-S-104: 오프셋 설정 (150ms)
[PASS] TEST-S-105: 오프셋 읽기 (100ms)
[PASS] TEST-S-201: 데이지 체인 (3200ms)
[PASS] TEST-S-202: 브로드캐스트 (1800ms)
[PASS] TEST-S-203: 통신 속도
  → 평균 응답: 85ms
  → 초당 처리: 11.7 cmd/s
  → 성공률: 99.8%
[PASS] TEST-S-204: 연속 동작 (15000ms)

-------------------------------------
성능 지표
-------------------------------------
- 평균 레이턴시: 85ms
- 최대 레이턴시: 250ms
- 최소 레이턴시: 45ms
- 체크섬 오류율: 0.2%
- 타임아웃 발생: 1회

-------------------------------------
권장사항
-------------------------------------
1. ID 변경 후 500ms 대기 추가
2. 타임아웃 값 1000ms → 1500ms 증가
3. 데이지 체인 시 명령 간격 50ms 이상 유지

=====================================
```

---

## 🔧 트러블슈팅 가이드

### 문제 1: 서보 무응답
**증상**: 명령 전송 후 응답 없음  
**원인**:
- 전원 부족
- TX/RX 잘못 연결
- 보드레이트 불일치
- 서보 고장

**해결**:
1. 전원 전압 확인 (5V)
2. 배선 재확인
3. 보드레이트 115200 확인
4. 다른 서보로 교체 테스트

### 문제 2: 체크섬 오류
**증상**: 수신 데이터 체크섬 불일치  
**원인**:
- 전기적 노이즈
- 배선 불량
- 전원 리플

**해결**:
1. 배선 짧게 유지
2. 전원 안정화 (커패시터 추가)
3. 재전송 로직 추가

### 문제 3: 각도 불일치
**증상**: 명령한 각도와 실제 각도 다름  
**원인**:
- 오프셋 설정됨
- 기계적 간섭
- 캘리브레이션 필요

**해결**:
1. 오프셋 0으로 초기화
2. 기계적 장애물 제거
3. 오프셋 재설정

---

## 📝 체크리스트

### 테스트 시작 전
- [ ] 모든 부품 준비 완료
- [ ] 회로도 확인
- [ ] 전원 전압 확인 (5V)
- [ ] Arduino 펌웨어 업로드 완료
- [ ] Serial 모니터 115200 bps 설정

### 테스트 진행 중
- [ ] 각 테스트 결과 기록
- [ ] 실패 시 스크린샷/로그 저장
- [ ] 이상 동작 시 즉시 전원 차단
- [ ] 과열 여부 수시 확인

### 테스트 완료 후
- [ ] 전체 테스트 리포트 작성
- [ ] 발견된 문제점 문서화
- [ ] 코드 정리 및 주석 추가
- [ ] 다음 단계 계획 수립

---

## 📚 참고 자료

- [Protocol_Serial.md](Protocol_Serial.md) - Serial 프로토콜 상세 문서
- Arduino Serial 라이브러리 문서
- UBTECH 서보 데이터시트

---

**작성자**: pashiran  
**버전**: 1.0  
**작성일**: 2025-11-05
